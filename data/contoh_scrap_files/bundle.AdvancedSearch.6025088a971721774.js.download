webpackJsonp(["bundle.AdvancedSearch"],{YybX:function(e,a,t){"use strict";t.d(a,"a",function(){return n}),t.d(a,"b",function(){return r}),t.d(a,"c",function(){return s}),t.d(a,"d",function(){return o}),t.d(a,"e",function(){return i}),t.d(a,"f",function(){return c});var n="ArrowDown",r="ArrowUp",s="Enter",o="Escape",i="ESC",c="Tab"},fttu:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});t("SU+a"),t("fx22"),t("WgSQ"),t("gYYG"),t("tJwI"),t("n12u"),t("VjuZ");var n=t("rzQm"),r=t.n(n),s=(t("EuXz"),t("M1I4")),o=t.n(s),i=t("86MP"),c=t.n(i),l=t("fKPv"),u=t.n(l),d=t("GiK3"),h=t("Z1LJ"),f=t("sLaq"),m=t("bndy"),p=t("6QMk"),g=["en-gb","fil","gl","ga","msa"],b=Object(m.createSelector)(p.c,function(e){return{languageList:e.filter(function(e){return-1===g.indexOf(e.code)})}}),T={createLocalApiErrorHandler:Object(f.b)("ADVANCED_SEARCH"),fetchAvailableLanguagesIfNeeded:p.a},y=Object(h.f)(b,T),_=t("bgPG"),v=(t("VTn2"),Object.freeze({AllOfTheseWords:"allOfTheseWords",ThisExactPhrase:"thisExactPhrase",AnyOfTheseWords:"anyOfTheseWords",NoneOfTheseWords:"noneOfTheseWords",Language:"language",TheseHashtags:"theseHashtags",FromTheseAccounts:"fromTheseAccounts",ToTheseAccounts:"toTheseAccounts",MentioningTheseAccounts:"mentioningTheseAccounts",FromThisDate:"fromThisDate",ToThisDate:"toThisDate",MinReplies:"minReplies",MinLikes:"minLikes",MinRetweets:"minRetweets"})),D="any",E=t("YybX"),S=t("3f1i"),O=t("eB+D"),x=t("jH3T"),A=t.n(x),F=t("f6lj"),j=t("C3D3"),k={wordsFields:[{label:A.a.c281d869,name:v.AllOfTheseWords,description:A.a.e6f3a0e9},{label:A.a.d153acce,name:v.ThisExactPhrase,description:A.a.e9f4fdaf},{label:A.a.j94c1f9d,name:v.AnyOfTheseWords,description:A.a.i02eb99e},{label:A.a.aacd186b,name:v.NoneOfTheseWords,description:A.a.ea2a726c},{label:A.a.a91d456a,name:v.TheseHashtags,description:A.a.ff8a18ef}],peopleFields:[{label:A.a.bcafdf91,name:v.FromTheseAccounts,description:A.a.fa4cd68f},{label:A.a.ffd40aaf,name:v.ToTheseAccounts,description:A.a.c6dc0404},{label:A.a.i7e6a15c,name:v.MentioningTheseAccounts,description:A.a.ace724e4}],engagementFields:[{label:A.a.e4cfd8aa,name:v.MinReplies,description:A.a.e06aa2f8},{label:A.a.b89f9085,name:v.MinLikes,description:A.a.d302add4},{label:A.a.f1a83341,name:v.MinRetweets,description:A.a.b8d85a44}]},L=(t("mJx5"),function(e){var a,t,n=[];return Object.keys(e).forEach(function(r){var s=e[r];if(s)switch(r){case v.AllOfTheseWords:n.push(s);break;case v.ThisExactPhrase:n.push('"'+s+'"');break;case v.AnyOfTheseWords:a=s.split(" "),t=I(a),n.push(w(t.join(" OR ")));break;case v.NoneOfTheseWords:a=("-"+s).split(" "),t=I(a),n.push(t.join(" -"));break;case v.TheseHashtags:a=("#"+M(s)).split(" "),t=I(a),n.push(w(t.join(" OR #")));break;case v.FromTheseAccounts:a=("from:"+R(s)).split(" "),t=I(a),n.push(w(t.join(" OR from:")));break;case v.ToTheseAccounts:a=("to:"+R(s)).split(" "),t=I(a),n.push(w(t.join(" OR to:")));break;case v.MentioningTheseAccounts:a=("@"+R(s)).split(" "),t=I(a),n.push(w(t.join(" OR @")));break;case v.FromThisDate:n.push("since:"+s);break;case v.ToThisDate:n.push("until:"+s);break;case v.Language:s!==D&&n.push("lang:"+s);break;case v.MinReplies:n.push("min_replies:"+s);break;case v.MinLikes:n.push("min_faves:"+s);break;case v.MinRetweets:n.push("min_retweets:"+s)}}),n.join(" ").trim()}),I=function(e){return e.filter(function(e){return""!==e})},M=function(e){return e.replace(/#+/g,"")},R=function(e){return e.replace(/@+/g,"")},w=function(e){return"("+e+")"},C=t("MjES"),W=t.n(C),V=t("Mpbj"),P=t.n(V),H=t("fF1d"),z=t.n(H),B=t("Wied"),Y=t.n(B),K=t("bPMx"),N=t.n(K),q=t("gEWf"),G=t.n(q),J=t("yV+M"),Q=t.n(J),X=t("5Izc"),U=t.n(X),Z=t("oxnB"),$=t.n(Z),ee=t("jYKd"),ae=t.n(ee);t.d(a,"AdvancedSearchScreen",function(){return me});var te=A.a.a7f9fe54,ne=A.a.d889fe84,re=A.a.f1b3a5e7,se=A.a.i7724ab8,oe=A.a.b698a217,ie=A.a.bea20d4d,ce=A.a.cd671d58,le=A.a.deff5ed4,ue=A.a.h61b50bc,de=A.a.gd4ddeb4,he=A.a.fdb1297d,fe={day:void 0,month:void 0,year:void 0},me=function(e){function a(a,t){var n;return n=e.call(this,a,t)||this,u()(o()(n),"_advancedSearchImprovementsEnabled",S.a.isTrue("responsive_web_advanced_search_improvements_enabled")),u()(o()(n),"_renderSectionTitle",function(e){return d.createElement(P.a,{size:"large",style:pe.title,weight:"bold"},e)}),u()(o()(n),"_renderField",function(e,a){return void 0===a&&(a="text"),d.createElement(W.a,{key:e.name},d.createElement(Q.a,{helperText:e.description,label:e.label,name:e.name,numberOfLines:1,placeholder:e.placeholder,ref:n._setFormTextInputRef,style:pe.field,type:a}))}),u()(o()(n),"_handleToDateChange",function(e){n.setState({toDate:e})}),u()(o()(n),"_handleFromDateChange",function(e){n.setState({fromDate:e})}),u()(o()(n),"_renderLanguages",function(){var e=n._getFormattedLanguageList();return e.length?d.createElement($.a,{label:le,onChange:n._handleLanguageChange,options:e,style:pe.languageSelector}):null}),u()(o()(n),"_getFormattedLanguageList",Y()(o()(n),function(e){return e.languageList},function(e){var a={label:ue,value:D},t=e.map(function(e){return{label:e.name,value:e.code}});return[a].concat(r()(t))})),u()(o()(n),"_handleOnKeyDown",function(e){e.key===E.c&&(e.preventDefault(),n._executeSearch())}),u()(o()(n),"_handleOnSearchPress",function(){n._executeSearch()}),u()(o()(n),"_handleLanguageChange",function(e,a){n.setState({language:e})}),u()(o()(n),"_executeSearch",function(){var e=n.props,a=e.history,t=e.location,r=L(n._getInputValues());r&&a.replace({pathname:"/search",query:Object.assign({},t.query,{q:r,src:j.a.Typed})})}),u()(o()(n),"_setFormTextInputRef",function(e){e&&e.props&&(n._formTextInputRefs[e.props.name]=e)}),u()(o()(n),"_getInputValues",function(){var e=n.state,a=e.language,t=e.toDate,r=e.fromDate,s=Object.keys(n._formTextInputRefs).reduce(function(e,a){var t=n._formTextInputRefs[a];return t&&t.getValue()&&(e[a]=t.getValue()),e},{}),o=G.a.getFormattedDefaultValue(t.day,t.month,t.year),i=G.a.getFormattedDefaultValue(r.day,r.month,r.year);return Object.assign({},s,{language:a,toThisDate:o,fromThisDate:i})}),n._formTextInputRefs={},n.state={language:D,toDate:fe,fromDate:fe},n}c()(a,e);var t=a.prototype;return t.componentDidMount=function(){var e=this.props,a=e.createLocalApiErrorHandler;(0,e.fetchAvailableLanguagesIfNeeded)().catch(a({}))},t.render=function(){var e=this,a=this.props,t=a.history,n=a.location,r=d.createElement(z.a,{onPress:this._handleOnSearchPress,size:"normalCompact",type:"primary"},ce);return d.createElement(F.a,null,d.createElement(O.a,{backLocation:"/explore",documentTitle:te,history:t,location:n,rightControl:r,title:ne},d.createElement(W.a,{style:pe.root},d.createElement(U.a,{onKeyDown:this._handleOnKeyDown},this._renderSectionTitle(re),k.wordsFields.map(function(a){return e._renderField(a)}),this._renderLanguages(),d.createElement(W.a,{style:pe.divider}),this._renderSectionTitle(oe),k.peopleFields.map(function(a){return e._renderField(a)}),this._advancedSearchImprovementsEnabled?d.createElement(d.Fragment,null,d.createElement(W.a,{style:pe.divider}),this._renderSectionTitle(se),k.engagementFields.map(function(a){return e._renderField(a,"number")})):null,d.createElement(W.a,{style:pe.divider}),this._renderSectionTitle(ie),this._renderDateInputs()))))},t._renderDateInputs=function(){var e=this.state,a=e.toDate,t=e.fromDate;return d.createElement(W.a,{style:pe.dateInputs},d.createElement(P.a,null,he),d.createElement(N.a,{day:t.day,label:he,minSelectableYear:2006,month:t.month,onChange:this._handleFromDateChange,style:pe.fromDateInput,year:t.year}),d.createElement(P.a,null,de),d.createElement(N.a,{day:a.day,label:de,minSelectableYear:2006,month:a.month,onChange:this._handleToDateChange,style:pe.toDateInput,year:a.year}))},a}(d.Component),pe=(a.default=Object(_.d)({page:"search_advanced"})(y(me)),ae.a.create(function(e){return{root:{padding:e.spaces.small},title:{marginBottom:e.spaces.xSmall},divider:{borderBottomColor:e.colors.lightGray,borderBottomWidth:1,marginVertical:e.spaces.medium},languageSelector:{marginVertical:e.spaces.xSmall},dateInputs:{marginVertical:e.spaces.xSmall},fromDateInput:{marginTop:e.spaces.xxSmall,marginBottom:e.spaces.small},toDateInput:{marginTop:e.spaces.xxSmall,marginBottom:0},field:{paddingHorizontal:0,paddingVertical:e.spaces.xSmall}}}))}});
//# sourceMappingURL=https://ton.smf1.twitter.com/responsive-web-internal/sourcemaps/web/bundle.AdvancedSearch.6025088a971721774.js.map